<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø­Ù„ | ALOGIX</title>
  <link rel="stylesheet" href="tt.css">
</head>
<body>

<div style="background:#032a41;color:#fff;padding:15px;border-radius:8px;margin-bottom:20px;">
  â„¹ï¸ ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©:
  <ul>
    <li>ğŸ’¼ "ØªØ³Ø¬ÙŠÙ„": Ø®Ø§Øµ Ø¨Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø£Ùˆ Ø§Ù„Ø¨ÙŠØ¬Ø§Øª</li>
    <li>ğŸ“¢ "ØªØ±ÙˆÙŠØ¬ ÙÙ‚Ø·": ÙÙ‚Ø· Ù„ØªØ±ÙˆÙŠØ¬ Ù…Ù†ØªØ¬</li>
    <li>ğŸ’° Ø§Ù„Ø¹Ù…Ù„Ø©: Ø¯ÙˆÙ„Ø§Ø± Ø¹Ø¨Ø± Ø±ØµÙŠØ¯ Ø§Ø³ÙŠØ§Ø³ÙŠÙ„</li>
    <li>âœ… Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø¯ÙØ¹ ÙˆØªØ³Ø¬ÙŠÙ„" Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨</li>
  </ul>
</div>

<h2>Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</h2>

<label for="store-name">ğŸ“Œ Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„ Ø£Ùˆ Ø§Ù„Ø¨ÙŠØ¬:</label>
<input type="text" id="store-name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ù…Ø­Ù„Ùƒ Ø£Ùˆ Ø¨ÙŠØ¬Ùƒ">

<label for="contact-number">ğŸ“ Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„:</label>
<input type="text" id="contact-number" placeholder="Ù…Ø«Ø§Ù„: 077xxxxxxxx">

<!-- âœ‚ï¸ Ù†Ø³Ø® ÙˆÙ„ØµÙ‚ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ø¯Ø§Ø®Ù„ <body> ØªØ­Øª Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø£Ø®Ø±Ù‰ -->
<div class="section">
  <label for="province">ğŸŒ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©:</label>
  <select id="province" onchange="onProvinceChange()">
    <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© --</option>
    <option value="Ø¨ØºØ¯Ø§Ø¯">Ø¨ØºØ¯Ø§Ø¯</option>
    <option value="Ø§Ù„Ø¨ØµØ±Ø©">Ø§Ù„Ø¨ØµØ±Ø©</option>
    <option value="Ø£Ø±Ø¨ÙŠÙ„">Ø£Ø±Ø¨ÙŠÙ„</option>
    <option value="Ù†ÙŠÙ†ÙˆÙ‰">Ù†ÙŠÙ†ÙˆÙ‰</option>
    <option value="Ø§Ù„Ù†Ø¬Ù">Ø§Ù„Ù†Ø¬Ù</option>
    <option value="ÙƒØ±Ø¨Ù„Ø§Ø¡">ÙƒØ±Ø¨Ù„Ø§Ø¡</option>
    <option value="Ø§Ù„Ø³Ù„ÙŠÙ…Ø§Ù†ÙŠØ©">Ø§Ù„Ø³Ù„ÙŠÙ…Ø§Ù†ÙŠØ©</option>
    <option value="Ø§Ù„Ø£Ù†Ø¨Ø§Ø±">Ø§Ù„Ø£Ù†Ø¨Ø§Ø±</option>
    <option value="Ø°ÙŠ Ù‚Ø§Ø±">Ø°ÙŠ Ù‚Ø§Ø±</option>
    <option value="ÙˆØ§Ø³Ø·">ÙˆØ§Ø³Ø·</option>
    <option value="Ø¯ÙŠØ§Ù„Ù‰">Ø¯ÙŠØ§Ù„Ù‰</option>
    <option value="Ø¨Ø§Ø¨Ù„">Ø¨Ø§Ø¨Ù„</option>
    <option value="Ù…ÙŠØ³Ø§Ù†">Ù…ÙŠØ³Ø§Ù†</option>
    <option value="ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†">ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†</option>
    <option value="ÙƒØ±ÙƒÙˆÙƒ">ÙƒØ±ÙƒÙˆÙƒ</option>
    <option value="Ø§Ù„Ù…Ø«Ù†Ù‰">Ø§Ù„Ù…Ø«Ù†Ù‰</option>
    <option value="Ø¯Ù‡ÙˆÙƒ">Ø¯Ù‡ÙˆÙƒ</option>
    <option value="Ø§Ù„Ù‚Ø§Ø¯Ø³ÙŠØ©">Ø§Ù„Ù‚Ø§Ø¯Ø³ÙŠØ©</option>
  </select>

  <div id="baghdad-options" style="display:none;">
    <label for="baghdad-side">â¡ï¸ Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù‡Ø©:</label>
    <select id="baghdad-side" onchange="loadBaghdadAreas()">
      <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù‡Ø© --</option>
      <option value="Ø±ØµØ§ÙØ©">Ø±ØµØ§ÙØ©</option>
      <option value="ÙƒØ±Ø®">ÙƒØ±Ø®</option>
    </select>

    <label for="baghdad-area">ğŸ“ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:</label>
    <select id="baghdad-area" onchange="checkBaghdadArea()">
      <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© --</option>
    </select>
  </div>

  <label for="address">ğŸ“¦ ÙˆØµÙ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø¯Ù‚ÙŠÙ‚):</label>
  <input type="text" id="address" placeholder="Ù…Ø«Ø§Ù„: Ø¨ØºØ¯Ø§Ø¯ / Ø­ÙŠ Ø§Ù„Ø¹Ø§Ù…Ù„ / Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„ÙØ±Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠ">

  <button onclick="sendLocation()">ğŸ“ Ø¥Ø±Ø³Ø§Ù„ Ù…ÙˆÙ‚Ø¹ÙŠ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
</div>

<!-- âœ‚ï¸ Ø£Ø¶Ù Ù‡Ø°Ø§ Ø¯Ø§Ø®Ù„ <script> ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ -->
<script>
function onProvinceChange() {
  const province = document.getElementById("province").value;
  const baghdadOptions = document.getElementById("baghdad-options");
  if (province === "Ø¨ØºØ¯Ø§Ø¯") {
    baghdadOptions.style.display = "block";
  } else {
    baghdadOptions.style.display = "none";
    checkBaghdadArea(); // Ø­ØªÙ‰ Ù†Ø®ÙÙŠ 150 Ø¥Ù† Ù…Ø§ ÙƒØ§Ù† Ø¨ØºØ¯Ø§Ø¯
  }
  checkBaghdadArea(); // ØªØ­Ø¯ÙŠØ« ÙÙˆØ±ÙŠ Ù„Ù„Ø¨Ø§Ù‚Ø©
}

function loadBaghdadAreas() {
  const side = document.getElementById("baghdad-side").value;
  const areaSelect = document.getElementById("baghdad-area");
  areaSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© --</option>';

  let areas = [];
  if (side === "Ø±ØµØ§ÙØ©") {
    areas = ["Ø±ØµØ§ÙØ© Ø£ÙˆÙ„Ù‰", "Ø±ØµØ§ÙØ© Ø«Ø§Ù†ÙŠØ©", "Ø±ØµØ§ÙØ© Ø«Ø§Ù„Ø«Ø©"];
  } else if (side === "ÙƒØ±Ø®") {
    areas = ["ÙƒØ±Ø® Ø£ÙˆÙ„Ù‰", "ÙƒØ±Ø® Ø«Ø§Ù†ÙŠØ©", "ÙƒØ±Ø® Ø«Ø§Ù„Ø«Ø©"];
  }

  areas.forEach(area => {
    const opt = document.createElement("option");
    opt.value = area;
    opt.textContent = area;
    areaSelect.appendChild(opt);
  });

  checkBaghdadArea();
}

function checkBaghdadArea() {
  const packageSelect = document.getElementById("package");
  const province = document.getElementById("province").value;
  const side = document.getElementById("baghdad-side").value;
  const area = document.getElementById("baghdad-area").value;

  Array.from(packageSelect.options).forEach(option => {
    option.style.display = "block"; // Ù†Ø¸Ù‡Ø± Ø§Ù„ÙƒÙ„
  });

  if (!(province === "Ø¨ØºØ¯Ø§Ø¯" && side === "Ø±ØµØ§ÙØ©" && area === "Ø±ØµØ§ÙØ© Ø«Ø§Ù„Ø«Ø©")) {
    Array.from(packageSelect.options).forEach(option => {
      if (option.value === "150") {
        option.style.display = "none";
      }
    });
  }
}

function sendLocation() {
  const link = `https://wa.me/9647727220385?text=ğŸ“%20Ù‡Ø°Ø§%20Ù…ÙˆÙ‚Ø¹ÙŠ%20Ø§Ù„Ø¯Ù‚ÙŠÙ‚%20Ù„Ù„Ù…Ø­Ù„:%0A${encodeURIComponent(window.location.href)}`;
  window.open(link, "_blank");
}

// ØªØ¹Ø¯ÙŠÙ„ sendToWhatsApp Ø­ØªÙ‰ ÙŠØ¶ÙŠÙ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ù„Ø±Ø³Ø§Ù„Ø©
async function sendToWhatsApp() {
  const storeName = document.getElementById("store-name").value.trim();
  const contactNumber = document.getElementById("contact-number").value.trim();
  const mode = document.getElementById("mode").value;
  const province = document.getElementById("province").value;
  const side = document.getElementById("baghdad-side").value;
  const area = document.getElementById("baghdad-area").value;
  const address = document.getElementById("address").value.trim();

  if (!storeName || !contactNumber || mode === "ØŸ" || !province || !address) {
    alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© ÙƒØ§ÙØ© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.");
    return;
  }

  const userIP = await getUserIP();
  let message = "ğŸ”¥ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù„Ù„ØªØ³Ø¬ÙŠÙ„:\n\n";
  message += `ğŸ“Œ Ø§Ù„Ø§Ø³Ù…: ${storeName}\nğŸ“ Ø±Ù‚Ù…: ${contactNumber}\nğŸŒ IP: ${userIP}\nğŸ—ºï¸ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©: ${province}`;

  if (province === "Ø¨ØºØ¯Ø§Ø¯") {
    message += `\nâ¡ï¸ Ø§Ù„Ø¬Ù‡Ø©: ${side}\nğŸ“ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©: ${area}`;
  }

  message += `\nğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ: ${address}`;

  let total = 0;

  if (mode === "register") {
    const pkg = document.getElementById("package").value;
    const promo = document.getElementById("promotion-needed").value;

    if (pkg === "ØŸ" || promo === "ØŸ") {
      alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¨Ø§Ù‚Ø© ÙˆØ§Ù„ØªØ±ÙˆÙŠØ¬.");
      return;
    }

    const packagePrice = parseFloat(pkg);
    message += `\n\nğŸ”¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ØªØ³Ø¬ÙŠÙ„\nğŸ”¸ Ø§Ù„Ø¨Ø§Ù‚Ø©: ${packagePrice}$\nâ­ Ù‡Ù„ ØªØ­ØªØ§Ø¬ ØªØ±ÙˆÙŠØ¬ØŸ ${promo}`;
    total += packagePrice;

    if (promo === "Ù†Ø¹Ù…") {
      const promoValue = parseFloat(document.getElementById("product-price").value);
      if (!promoValue || promoValue <= 0) {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± Ù…Ù†ØªØ¬ Ø§Ù„ØªØ±ÙˆÙŠØ¬.");
        return;
      }
      const promoCost = Math.ceil((promoValue / 5) * 2);
      total += promoCost;
      message += `\nğŸ’° Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬: ${promoValue}$\nğŸ“¢ ØªÙƒÙ„ÙØ© Ø§Ù„ØªØ±ÙˆÙŠØ¬: ${promoCost}$`;
    }

  } else if (mode === "promote") {
    const promoValue = parseFloat(document.getElementById("only-promo-price").value);
    if (!promoValue || promoValue <= 0) {
      alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬.");
      return;
    }
    const promoCost = Math.ceil((promoValue / 5) * 2);
    total += promoCost;
    message += `\nğŸ”¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ØªØ±ÙˆÙŠØ¬ ÙÙ‚Ø·\nğŸ’° Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬: ${promoValue}$\nğŸ“¢ ØªÙƒÙ„ÙØ© Ø§Ù„ØªØ±ÙˆÙŠØ¬: ${promoCost}$`;
  }

  message += `\n\nğŸ’µ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙƒÙ„ÙŠ: ${total}$`;

  const phone = "07727220385";
  const encodedMessage = encodeURIComponent(message);
  const link = `https://wa.me/964${phone.slice(1)}?text=${encodedMessage}`;
  window.open(link, "_blank");

  setTimeout(() => {
    alert("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨.\nğŸ“ IP: " + userIP);
  }, 1000);
}
</script>

<label for="mode">ğŸ§­ Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©:</label>
<select id="mode" onchange="toggleSections()">
  <option value="ØŸ">-- Ø§Ø®ØªØ± --</option>
  <option value="register">ØªØ³Ø¬ÙŠÙ„</option>
  <option value="promote">ØªØ±ÙˆÙŠØ¬ ÙÙ‚Ø·</option>
</select>

<div id="register-section" class="section" style="display:none;">
  <label for="package">ğŸ Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø§Ù‚Ø©:</label>
  <select id="package">
    <option value="ØŸ">-- Ø§Ø®ØªØ± --</option>
    <option value="100">Ø¨Ø§Ù‚Ø© 100$ (ÙƒÙˆÙ„ Ø³Ù†ØªØ± + Ù…Ù†Ø¯ÙˆØ¨ÙŠÙ† + ØªÙˆØµÙŠÙ„)</option>
    <option value="150">Ø¨Ø§Ù‚Ø© 150$ (ØªØ´Ù…Ù„ Ø£Ø¹Ù„Ø§Ù‡ + ØªØµÙˆÙŠØ± + ØªØµÙ…ÙŠÙ…)</option>
  </select>

  <label for="promotion-needed">â­ Ù‡Ù„ ØªØ­ØªØ§Ø¬ ØªØ±ÙˆÙŠØ¬ Ù„Ù„ØµÙØ­Ø© ØŸ</label>
  <select id="promotion-needed">
    <option value="ØŸ">-- Ø§Ø®ØªØ± --</option>
    <option value="Ù†Ø¹Ù…">Ù†Ø¹Ù…</option>
    <option value="Ù„Ø§">Ù„Ø§</option>
  </select>

  <div id="promo-price-section" style="display:none;">
    <label for="product-price">ğŸ’° Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±:</label>
    <input type="number" id="product-price" placeholder="Ù…Ø«Ø§Ù„: 25">
  </div>
</div>

<div id="promote-section" class="section" style="display:none;">
  <label for="only-promo-price">ğŸ’° Ø³Ø¹Ø± Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ØªØ±ÙˆÙŠØ¬Ù‡ Ø¨Ø©:</label>
  <input type="number" id="only-promo-price" placeholder="Ù…Ø«Ø§Ù„: 30">
</div>

<button onclick="sendToWhatsApp()">ğŸ’µ Ø¯ÙØ¹ ÙˆØªØ³Ø¬ÙŠÙ„</button>

<a href="https://wa.me/9647727220385?text=Ø¹Ù†Ø¯ÙŠ%20Ø§Ø³ØªÙØ³Ø§Ø±%20Ø­ÙˆÙ„%20Ø§Ù„ØªØ³Ø¬ÙŠÙ„%20Ø§Ùˆ%20Ø§Ù„ØªØ±ÙˆÙŠØ¬" 
   target="_blank" style="position:fixed;bottom:20px;right:20px;z-index:999;">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" 
       width="60" alt="WhatsApp">
</a>
  <button class="button1" onclick="window.location.href='index.html'">Ø±Ø¬ÙˆØ¹ Ø§Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø§Ø³Ø§Ø³ÙŠØ©</button>



<script>
  function toggleSections() {
    const mode = document.getElementById("mode").value;
    document.getElementById("register-section").style.display = mode === "register" ? "block" : "none";
    document.getElementById("promote-section").style.display = mode === "promote" ? "block" : "none";
  }

  document.getElementById("promotion-needed").addEventListener("change", function () {
    document.getElementById("promo-price-section").style.display = this.value === "Ù†Ø¹Ù…" ? "block" : "none";
  });

  function sendToWhatsApp() {
    const storeName = document.getElementById("store-name").value.trim();
    const contactNumber = document.getElementById("contact-number").value.trim();
    const mode = document.getElementById("mode").value;

    if (!storeName || !contactNumber) {
      alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¨ÙŠØ¬ ÙˆØ±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„.");
      return;
    }

    let message = "ğŸ”¥ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯:\n\n";
    message += `ğŸ“Œ Ø§Ø³Ù… Ø§Ù„Ø¨ÙŠØ¬: ${storeName}\nğŸ“ Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„: ${contactNumber}\n\n`;

    if (mode === "register") {
      const pkg = document.getElementById("package").value;
      const promo = document.getElementById("promotion-needed").value;
      message += `ğŸ”¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ØªØ³Ø¬ÙŠÙ„\nğŸ”¸ Ø§Ù„Ø¨Ø§Ù‚Ø©: ${pkg}$\nâ­ ØªØ±ÙˆÙŠØ¬: ${promo}`;

      if (promo === "Ù†Ø¹Ù…") {
        const price = parseFloat(document.getElementById("product-price").value || 0);
        if (!price) {
          alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬.");
          return;
        }
        const finalPrice = price + 3;
        message += `\nğŸ’° Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬: ${price}$\nğŸ“ˆ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØªØ±ÙˆÙŠØ¬: ${finalPrice}$`;
      }

    } else if (mode === "promote") {
      const price = parseFloat(document.getElementById("only-promo-price").value || 0);
      if (!price) {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬.");
        return;
      }
      const finalPrice = price + 3;
      message += `ğŸ”¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ØªØ±ÙˆÙŠØ¬ ÙÙ‚Ø·\nğŸ’° Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬: ${price}$\nğŸ“ˆ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØªØ±ÙˆÙŠØ¬: ${finalPrice}$`;
    }

    const encodedMessage = encodeURIComponent(message);
    const phone = "07727220385";
    window.open(`https://wa.me/964${phone.slice(1)}?text=${encodedMessage}`, "_blank");
  }

    function toggleSections() {
    const mode = document.getElementById("mode").value;
    document.getElementById("register-section").style.display = mode === "register" ? "block" : "none";
    document.getElementById("promote-section").style.display = mode === "promote" ? "block" : "none";
  }

  document.getElementById("promotion-needed").addEventListener("change", function () {
    document.getElementById("promo-price-section").style.display = this.value === "Ù†Ø¹Ù…" ? "block" : "none";
  });

  async function getUserIP() {
    try {
      const res = await fetch("https://api.ipify.org?format=json");
      const data = await res.json();
      return data.ip;
    } catch {
      return "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
    }
  }

  async function sendToWhatsApp() {
    const storeName = document.getElementById("store-name").value.trim();
    const contactNumber = document.getElementById("contact-number").value.trim();
    const mode = document.getElementById("mode").value;

    if (!storeName || !contactNumber || mode === "ØŸ") {
      alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© ÙƒØ§ÙØ© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.");
      return;
    }

    const userIP = await getUserIP();
    let message = "ğŸ”¥ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù„Ù„ØªØ³Ø¬ÙŠÙ„:\n\n";
    message += `ğŸ“Œ Ø§Ø³Ù… Ø§Ù„Ø¨ÙŠØ¬/Ø§Ù„Ù…Ø­Ù„: ${storeName}\nğŸ“ Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„: ${contactNumber}\nğŸŒ IP: ${userIP}\n`;

    let total = 0;

    if (mode === "register") {
      const pkg = document.getElementById("package").value;
      const promo = document.getElementById("promotion-needed").value;

      if (pkg === "ØŸ" || promo === "ØŸ") {
        alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¨Ø§Ù‚Ø© ÙˆØ§Ù„ØªØ±ÙˆÙŠØ¬.");
        return;
      }

      const packagePrice = parseFloat(pkg);
      message += `\nğŸ”¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ØªØ³Ø¬ÙŠÙ„\nğŸ”¸ Ø§Ù„Ø¨Ø§Ù‚Ø©: ${packagePrice}$\nâ­ Ù‡Ù„ ØªØ­ØªØ§Ø¬ ØªØ±ÙˆÙŠØ¬ØŸ ${promo}`;
      total += packagePrice;

      if (promo === "Ù†Ø¹Ù…") {
        const promoValue = parseFloat(document.getElementById("product-price").value);
        if (!promoValue || promoValue <= 0) {
          alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± Ù…Ù†ØªØ¬ Ø§Ù„ØªØ±ÙˆÙŠØ¬.");
          return;
        }
        const promoCost = Math.ceil((promoValue / 5) * 2);
        total += promoCost;
        message += `\nğŸ’° Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬: ${promoValue}$\nğŸ“¢ ØªÙƒÙ„ÙØ© Ø§Ù„ØªØ±ÙˆÙŠØ¬: ${promoCost}$`;
      }

    } else if (mode === "promote") {
      const promoValue = parseFloat(document.getElementById("only-promo-price").value);
      if (!promoValue || promoValue <= 0) {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬.");
        return;
      }
      const promoCost = Math.ceil((promoValue / 5) * 2);
      total += promoCost;
      message += `\nğŸ”¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ØªØ±ÙˆÙŠØ¬ ÙÙ‚Ø·\nğŸ’° Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬: ${promoValue}$\nğŸ“¢ ØªÙƒÙ„ÙØ© Ø§Ù„ØªØ±ÙˆÙŠØ¬: ${promoCost}$`;
    }

    message += `\n\nğŸ’µ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙƒÙ„ÙŠ: ${total}$`;

    const phone = "07727220385";
    const encodedMessage = encodeURIComponent(message);
    const link = `https://wa.me/964${phone.slice(1)}?text=${encodedMessage}`;
    window.open(link, "_blank");

    setTimeout(() => {
      alert("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­.\nğŸ“ IP: " + userIP);
    }, 1000);
  }
</script>

</body>
</html>
