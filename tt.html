<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ุชุณุฌูู ุงููุญู | ALOGIX</title>
  <link rel="stylesheet" href="tt.css">
</head>
<body>

<div style="background:#032a41;color:#fff;padding:15px;border-radius:8px;margin-bottom:20px;">
  โน๏ธ ูุฑุฌู ุชุนุจุฆุฉ ุงููููุฐุฌ ุญุณุจ ููุน ุงูุฎุฏูุฉ:
  <ul>
    <li>๐ผ "ุชุณุฌูู": ุฎุงุต ุจุฃุตุญุงุจ ุงููุญูุงุช ุฃู ุงูุจูุฌุงุช</li>
    <li>๐ข "ุชุฑููุฌ ููุท": ููุท ูุชุฑููุฌ ููุชุฌ</li>
    <li>๐ฐ ุงูุนููุฉ: ุฏููุงุฑ ุนุจุฑ ุฑุตูุฏ ุงุณูุงุณูู</li>
    <li>โ ุจุนุฏ ุงูุถุบุท ุนูู "ุฏูุน ูุชุณุฌูู" ุณูุชู ุชุญูููู ุชููุงุฆูุงู ุฅูู ูุงุชุณุงุจ</li>
  </ul>
</div>

<h2>ูููุฐุฌ ุงูุชุณุฌูู</h2>

<label for="store-name">๐ ุงุณู ุงููุญู ุฃู ุงูุจูุฌ:</label>
<input type="text" id="store-name" placeholder="ุงูุชุจ ุงุณู ูุญูู ุฃู ุจูุฌู">

<label for="contact-number">๐ ุฑูู ุงูุชูุงุตู:</label>
<input type="text" id="contact-number" placeholder="ูุซุงู: 077xxxxxxxx">

  <!-- ุฃููู ูุฐุง ุฏุงุฎู ููุฏู ุงูุญุงูู ุนูุฏ ููุงู ููุงุณุจ -->
<label for="province">๐ ุงุฎุชุฑ ุงููุญุงูุธุฉ:</label>
<select id="province" onchange="updateDistricts(); checkBaghdadArea();">
  <option value="">-- ุงุฎุชุฑ --</option>
  <option value="ุจุบุฏุงุฏ">ุจุบุฏุงุฏ</option>
  <option value="ุฃุฑุจูู">ุฃุฑุจูู</option>
  <option value="ููููู">ููููู</option>
  <option value="ุงูุจุตุฑุฉ">ุงูุจุตุฑุฉ</option>
  <option value="ูุฑููู">ูุฑููู</option>
  <option value="ุงููุฌู">ุงููุฌู</option>
  <option value="ูุฑุจูุงุก">ูุฑุจูุงุก</option>
  <option value="ุงูุณูููุงููุฉ">ุงูุณูููุงููุฉ</option>
  <option value="ุฐู ูุงุฑ">ุฐู ูุงุฑ</option>
  <option value="ุงูุฃูุจุงุฑ">ุงูุฃูุจุงุฑ</option>
  <option value="ุฏูุงูู">ุฏูุงูู</option>
  <option value="ุงูุฏููุงููุฉ">ุงูุฏููุงููุฉ</option>
  <option value="ูุงุณุท">ูุงุณุท</option>
  <option value="ููุณุงู">ููุณุงู</option>
  <option value="ุตูุงุญ ุงูุฏูู">ุตูุงุญ ุงูุฏูู</option>
  <option value="ุจุงุจู">ุจุงุจู</option>
</select>

<div id="baghdad-zone" style="display:none;">
  <label for="baghdad-side">๐ ุงุฎุชุฑ ุฌูุฉ ุจุบุฏุงุฏ:</label>
  <select id="baghdad-side" onchange="updateBaghdadAreas(); checkBaghdadArea();">
    <option value="">-- ุงุฎุชุฑ --</option>
    <option value="ุฑุตุงูุฉ">ุฑุตุงูุฉ</option>
    <option value="ูุฑุฎ">ูุฑุฎ</option>
  </select>

  <label for="baghdad-area">๐ ุงุฎุชุฑ ุงูููุทูุฉ:</label>
  <select id="baghdad-area" onchange="checkBaghdadArea()">
    <option value="">-- ุงุฎุชุฑ --</option>
  </select>
</div>

<label for="address-details">๐ ูุตู ุฏููู ููุนููุงู:</label>
<input type="text" id="address-details" placeholder="ูุซุงู: ูุฑุจ ูุณุชุดูู ุงูููุฏูุ ุดุงุฑุน 42ุ ููุงุจู ุตูุฏููุฉ..." />

<button onclick="sendLocationToWhatsApp()">๐ ุฅุฑุณุงู ูููุนู ุฅูู ูุงุชุณุงุจ</button>

<script>
  function updateDistricts() {
    const province = document.getElementById("province").value;
    const baghdadZone = document.getElementById("baghdad-zone");
    baghdadZone.style.display = province === "ุจุบุฏุงุฏ" ? "block" : "none";
  }

  function updateBaghdadAreas() {
    const side = document.getElementById("baghdad-side").value;
    const areaSelect = document.getElementById("baghdad-area");
    areaSelect.innerHTML = "<option value=''>-- ุงุฎุชุฑ --</option>";
    if (side === "ุฑุตุงูุฉ") {
      areaSelect.innerHTML += "<option value='ุฑุตุงูุฉ ุฃููู'>ุฑุตุงูุฉ ุฃููู</option>";
      areaSelect.innerHTML += "<option value='ุฑุตุงูุฉ ุซุงููุฉ'>ุฑุตุงูุฉ ุซุงููุฉ</option>";
      areaSelect.innerHTML += "<option value='ุฑุตุงูุฉ ุซุงูุซุฉ'>ุฑุตุงูุฉ ุซุงูุซุฉ</option>";
    } else if (side === "ูุฑุฎ") {
      areaSelect.innerHTML += "<option value='ูุฑุฎ ุฃููู'>ูุฑุฎ ุฃููู</option>";
      areaSelect.innerHTML += "<option value='ูุฑุฎ ุซุงููุฉ'>ูุฑุฎ ุซุงููุฉ</option>";
      areaSelect.innerHTML += "<option value='ูุฑุฎ ุซุงูุซุฉ'>ูุฑุฎ ุซุงูุซุฉ</option>";
    }
  }

  function checkBaghdadArea() {
    const packageSelect = document.getElementById("package");
    const area = document.getElementById("baghdad-area").value;
    if (area === "ุฑุตุงูุฉ ุซุงูุซุฉ") {
      Array.from(packageSelect.options).forEach(option => {
        option.style.display = "block";
      });
    } else {
      Array.from(packageSelect.options).forEach(option => {
        if (option.value === "150") {
          option.style.display = "none";
        }
      });
    }
  }

  function sendLocationToWhatsApp() {
    if (!navigator.geolocation) {
      alert("ุงููุชุตูุญ ูุง ูุฏุนู ุชุญุฏูุฏ ุงููููุน.");
      return;
    }

    navigator.geolocation.getCurrentPosition(position => {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;
      const mapsLink = `https://www.google.com/maps?q=${lat},${lon}`;
      const msg = `๐ ูุฐุง ูููุนู ุงูุฏููู ูููุญู:\n${mapsLink}`;
      const phone = "07727220385";
      window.open(`https://wa.me/964${phone.slice(1)}?text=${encodeURIComponent(msg)}`, "_blank");
    }, () => {
      alert("ูู ูุชู ุงูุญุตูู ุนูู ุงููููุน.");
    });
  }
</script>

<label for="mode">๐งญ ููุน ุงูุนูููุฉ:</label>
<select id="mode" onchange="toggleSections()">
  <option value="ุ">-- ุงุฎุชุฑ --</option>
  <option value="register">ุชุณุฌูู</option>
  <option value="promote">ุชุฑููุฌ ููุท</option>
</select>

<div id="register-section" class="section" style="display:none;">
  <label for="package">๐ ุงุฎุชุฑ ุงูุจุงูุฉ:</label>
  <select id="package">
    <option value="ุ">-- ุงุฎุชุฑ --</option>
    <option value="100">ุจุงูุฉ 100$ (ููู ุณูุชุฑ + ููุฏูุจูู + ุชูุตูู)</option>
    <option value="150">ุจุงูุฉ 150$ (ุชุดูู ุฃุนูุงู + ุชุตููุฑ + ุชุตููู)</option>
  </select>

  <label for="promotion-needed">โญ ูู ุชุญุชุงุฌ ุชุฑููุฌ ูููุชุฌุ</label>
  <select id="promotion-needed">
    <option value="ุ">-- ุงุฎุชุฑ --</option>
    <option value="ูุนู">ูุนู</option>
    <option value="ูุง">ูุง</option>
  </select>

  <div id="promo-price-section" style="display:none;">
    <label for="product-price">๐ฐ ุณุนุฑ ุงูููุชุฌ ุจุงูุฏููุงุฑ:</label>
    <input type="number" id="product-price" placeholder="ูุซุงู: 25">
  </div>
</div>

<div id="promote-section" class="section" style="display:none;">
  <label for="only-promo-price">๐ฐ ุณุนุฑ ุงูููุชุฌ ุงูุฐู ุชุฑูุฏ ุชุฑููุฌู:</label>
  <input type="number" id="only-promo-price" placeholder="ูุซุงู: 30">
</div>

<button onclick="sendToWhatsApp()">๐ต ุฏูุน ูุชุณุฌูู</button>

<a href="https://wa.me/9647727220385?text=ุนูุฏู%20ุงุณุชูุณุงุฑ%20ุญูู%20ุงูุชุณุฌูู%20ุงู%20ุงูุชุฑููุฌ" 
   target="_blank" style="position:fixed;bottom:20px;right:20px;z-index:999;">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" 
       width="60" alt="WhatsApp">
</a>
  <button class="button1" onclick="window.location.href='index.html'">ุฑุฌูุน ุงูู ุตูุญุฉ ุงูุงุณุงุณูุฉ</button>



<script>
  function toggleSections() {
    const mode = document.getElementById("mode").value;
    document.getElementById("register-section").style.display = mode === "register" ? "block" : "none";
    document.getElementById("promote-section").style.display = mode === "promote" ? "block" : "none";
  }

  document.getElementById("promotion-needed").addEventListener("change", function () {
    document.getElementById("promo-price-section").style.display = this.value === "ูุนู" ? "block" : "none";
  });

  function sendToWhatsApp() {
    const storeName = document.getElementById("store-name").value.trim();
    const contactNumber = document.getElementById("contact-number").value.trim();
    const mode = document.getElementById("mode").value;

    if (!storeName || !contactNumber) {
      alert("ูุฑุฌู ุฅุฏุฎุงู ุงุณู ุงูุจูุฌ ูุฑูู ุงูุชูุงุตู.");
      return;
    }

    let message = "๐ฅ ุทูุจ ุฌุฏูุฏ:\n\n";
    message += `๐ ุงุณู ุงูุจูุฌ: ${storeName}\n๐ ุฑูู ุงูุชูุงุตู: ${contactNumber}\n\n`;

    if (mode === "register") {
      const pkg = document.getElementById("package").value;
      const promo = document.getElementById("promotion-needed").value;
      message += `๐น ุงูุนูููุฉ: ุชุณุฌูู\n๐ธ ุงูุจุงูุฉ: ${pkg}$\nโญ ุชุฑููุฌ: ${promo}`;

      if (promo === "ูุนู") {
        const price = parseFloat(document.getElementById("product-price").value || 0);
        if (!price) {
          alert("ูุฑุฌู ุฅุฏุฎุงู ุณุนุฑ ุงูููุชุฌ.");
          return;
        }
        const finalPrice = price + 3;
        message += `\n๐ฐ ุณุนุฑ ุงูููุชุฌ: ${price}$\n๐ ุงูุณุนุฑ ุจุนุฏ ุงูุชุฑููุฌ: ${finalPrice}$`;
      }

    } else if (mode === "promote") {
      const price = parseFloat(document.getElementById("only-promo-price").value || 0);
      if (!price) {
        alert("ูุฑุฌู ุฅุฏุฎุงู ุณุนุฑ ุงูููุชุฌ.");
        return;
      }
      const finalPrice = price + 3;
      message += `๐น ุงูุนูููุฉ: ุชุฑููุฌ ููุท\n๐ฐ ุณุนุฑ ุงูููุชุฌ: ${price}$\n๐ ุงูุณุนุฑ ุจุนุฏ ุงูุชุฑููุฌ: ${finalPrice}$`;
    }

    const encodedMessage = encodeURIComponent(message);
    const phone = "07727220385";
    window.open(`https://wa.me/964${phone.slice(1)}?text=${encodedMessage}`, "_blank");
  }

    function toggleSections() {
    const mode = document.getElementById("mode").value;
    document.getElementById("register-section").style.display = mode === "register" ? "block" : "none";
    document.getElementById("promote-section").style.display = mode === "promote" ? "block" : "none";
  }

  document.getElementById("promotion-needed").addEventListener("change", function () {
    document.getElementById("promo-price-section").style.display = this.value === "ูุนู" ? "block" : "none";
  });

  async function getUserIP() {
    try {
      const res = await fetch("https://api.ipify.org?format=json");
      const data = await res.json();
      return data.ip;
    } catch {
      return "ุบูุฑ ูุนุฑูู";
    }
  }

  async function sendToWhatsApp() {
    const storeName = document.getElementById("store-name").value.trim();
    const contactNumber = document.getElementById("contact-number").value.trim();
    const mode = document.getElementById("mode").value;

    if (!storeName || !contactNumber || mode === "ุ") {
      alert("ูุฑุฌู ุชุนุจุฆุฉ ูุงูุฉ ุงูุญููู ุงููุทููุจุฉ.");
      return;
    }

    const userIP = await getUserIP();
    let message = "๐ฅ ุทูุจ ุฌุฏูุฏ ููุชุณุฌูู:\n\n";
    message += `๐ ุงุณู ุงูุจูุฌ/ุงููุญู: ${storeName}\n๐ ุฑูู ุงูุชูุงุตู: ${contactNumber}\n๐ IP: ${userIP}\n`;

    let total = 0;

    if (mode === "register") {
      const pkg = document.getElementById("package").value;
      const promo = document.getElementById("promotion-needed").value;

      if (pkg === "ุ" || promo === "ุ") {
        alert("ูุฑุฌู ุงุฎุชูุงุฑ ุงูุจุงูุฉ ูุงูุชุฑููุฌ.");
        return;
      }

      const packagePrice = parseFloat(pkg);
      message += `\n๐น ุงูุนูููุฉ: ุชุณุฌูู\n๐ธ ุงูุจุงูุฉ: ${packagePrice}$\nโญ ูู ุชุญุชุงุฌ ุชุฑููุฌุ ${promo}`;
      total += packagePrice;

      if (promo === "ูุนู") {
        const promoValue = parseFloat(document.getElementById("product-price").value);
        if (!promoValue || promoValue <= 0) {
          alert("ูุฑุฌู ุฅุฏุฎุงู ุณุนุฑ ููุชุฌ ุงูุชุฑููุฌ.");
          return;
        }
        const promoCost = Math.ceil((promoValue / 5) * 2);
        total += promoCost;
        message += `\n๐ฐ ุณุนุฑ ุงูููุชุฌ: ${promoValue}$\n๐ข ุชูููุฉ ุงูุชุฑููุฌ: ${promoCost}$`;
      }

    } else if (mode === "promote") {
      const promoValue = parseFloat(document.getElementById("only-promo-price").value);
      if (!promoValue || promoValue <= 0) {
        alert("ูุฑุฌู ุฅุฏุฎุงู ุณุนุฑ ุงูููุชุฌ.");
        return;
      }
      const promoCost = Math.ceil((promoValue / 5) * 2);
      total += promoCost;
      message += `\n๐น ุงูุนูููุฉ: ุชุฑููุฌ ููุท\n๐ฐ ุณุนุฑ ุงูููุชุฌ: ${promoValue}$\n๐ข ุชูููุฉ ุงูุชุฑููุฌ: ${promoCost}$`;
    }

    message += `\n\n๐ต ุงูุณุนุฑ ุงูููู: ${total}$`;

    const phone = "07727220385";
    const encodedMessage = encodeURIComponent(message);
    const link = `https://wa.me/964${phone.slice(1)}?text=${encodedMessage}`;
    window.open(link, "_blank");

    setTimeout(() => {
      alert("โ ุชู ุชุณุฌูู ุงูุทูุจ ุจูุฌุงุญ.\n๐ IP: " + userIP);
    }, 1000);
  }
</script>

</body>
</html>
